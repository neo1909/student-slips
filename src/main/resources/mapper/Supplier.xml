<?xml version = "1.0" encoding = "UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="SupplierDao">

    <select id="selectAllSupplier" parameterType="SupplierDTO"  resultMap="result">
        SELECT SS.suppliers_id,S.name,SS.service_id,(select name from onetouch.ps_service where SS.service_id=id) AS service_name
             ,SS.price,SS.no_payment,SS.amount_1,SS.amount_2,SS.amount_3,SS.amount_4,SS.amount_5,SS.amount_6,SS.amount_7
             ,SS.amount_8,SS.amount_9,SS.amount_10,SS.amount_11,SS.amount_12,SS.grade
             ,S.insert_date,S.insert_id,S.update_date,S.update_id
        FROM onetouch.ps_suppliers S
                 left outer join onetouch.ps_suppliers_service SS
                                 on S.id=SS.suppliers_id
        where S.del_yn='N'
          AND SS.del_yn='N'
          AND SS.school_id=#{schoolId}
    </select>


    <resultMap id = "result" type = "SupplierDTO">
        <result property = "id" column = "ID"/>
        <result property = "name" column = "NAME"/>
        <result property = "schoolId" column = "school_id"/>
        <result property = "delYn" column = "del_yn"/>
        <result property = "insertId" column = "insert_id"/>
        <result property = "price" column = "price"/>
        <result property = "noPayment" column = "no_payment"/>
        <result property = "amount1" column = "amount_1"/>
        <result property = "amount2" column = "amount_2"/>
        <result property = "amount3" column = "amount_3"/>
        <result property = "amount4" column = "amount_4"/>
        <result property = "amount5" column = "amount_5"/>
        <result property = "amount6" column = "amount_6"/>
        <result property = "amount7" column = "amount_7"/>
        <result property = "amount8" column = "amount_8"/>
        <result property = "amount9" column = "amount_9"/>
        <result property = "amount10" column = "amount_10"/>
        <result property = "amount11" column = "amount_11"/>
        <result property = "amount12" column = "amount_12"/>
        <result property = "gradeList" column = "grade"/>
        <result property = "insertDate" column = "insert_date"/>
        <result property = "updateId" column = "update_id"/>
        <result property = "updateDate" column = "update_date"/>
        <result property = "serviceId" column = "service_id"/>
    </resultMap>
</mapper>